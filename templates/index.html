{% extends 'layout.html' %}

{% block content %}
<!-- Dark Mode Toggle -->
<div class="flex justify-end mb-4">
  <button onclick="toggleDarkMode()" class="bg-midgreen text-white px-4 py-2 rounded hover:bg-lightgreen hover:text-darkgreen transition">
    ðŸŒ“ Toggle Dark Mode
  </button>
</div>

<!-- Dashboard Layout -->
<div class="flex flex-col md:flex-row gap-6">

  <!-- Left Panel: Chart -->
  <div class="flex-1 bg-white dark:bg-midgreen p-4 rounded-lg shadow-md">
    <canvas id="streakChart"></canvas>
  </div>

  <!-- Right Panel -->
  <div class="w-full md:w-1/3 flex flex-col justify-between gap-6">

    <!-- Streak Info Box -->
    <div class="bg-white dark:bg-midgreen p-4 rounded-lg shadow-md">
      <h3 class="text-lg font-semibold mb-2">ðŸŽ¯ Streak Info</h3>
      <p>Current Streak: <span id="currentStreak" class="font-bold text-midgreen dark:text-lightgreen">13</span></p>
      <p>Today's Max Streak: <span id="maxStreak" class="font-bold text-midgreen dark:text-lightgreen">37</span></p>
    </div>

    <!-- Song Box -->
    <div class="bg-white dark:bg-midgreen p-4 rounded-lg shadow-md">
      <h3 class="text-lg font-semibold mb-2">ðŸŽµ Today's Song</h3>
      <div class="aspect-video">
        <iframe class="rounded-xl w-full h-40"
          src="https://open.spotify.com/embed/track/7ouMYWpwJ422jRcDASZB7P?utm_source=generator"
          frameborder="0" allowfullscreen=""
          allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
          loading="lazy">
        </iframe>
      </div>
    </div>

  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', path='js/index_script.js') }}" defer></script>
{% endblock %}
